# events {
# }

# http {
#     server {
#         listen      80;
#         listen      [::]:80;

#         return 301 https://$host$request_uri;
#     }

#     server {
#         listen      443         ssl;
#         listen      [::]:443    ssl;

#         server_name             localhost;

#         ssl_certificate         /etc/ssl/certs/localhost.cert;
#         ssl_certificate_key     /etc/ssl/certs/localhost.key;

#         root                    /var/www/localhost/htdocs/;
#         index                   index.html;

#         location /phpmyadmin/ {
#             proxy_pass http://192.168.99.201:5000/;
#             proxy_redirect off;
#             proxy_set_header Host $host;
#             proxy_set_header X-Real-IP $remote_addr;
#             proxy_set_header X-Forwarded-Proto https;
#             proxy_set_header X-Forwarded-Host $server_name;
#             proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
#         }

#         location /wordpress {
#             return 307 http://192.168.99.201:5050;
#         }

#         location / {
#             try_files $uri $uri/ =404;
#         }
#     }
# }
# # user www;

# # events {
# #         worker_connections 1024;
# # }

# # http {
# # 		include /etc/nginx/mime.types;
# # 		default_type application/octet-stream;
# # 		sendfile on;
# # 		access_log /var/log/nginx/access.log;
# # 		keepalive_timeout 3000;
# # 		# client_max_body_size 50m;
# #         root            /var/www/localhost/htdocs/;
# #         index           index.html;
# # 		server {
# #             listen  80;
# #             listen [::]:80;
# #             return 301 http://192.168.99.201:443;
# #         }
# #         server {
# #             listen  443     ssl ;
# #             listen [::]:443 ssl ;
# #             server_name     www;

# #         	ssl_certificate     /etc/ssl/certs/localhost.crt;
# #             ssl_certificate_key /etc/ssl/certs/localhost.key;

# #             root            /var/www/localhost/htdocs/;
# #             index           index.html;

# #                 # location /wordpress {
# #                 #     return 307 http://192.168.99.201:5050;
# #                 # }
# #                 location / {
# #                     autoindex on;
# #                     try_files $uri $uri/ =404;
# #                 }  
# #         }
# # }

# # http {
# #         server {
# #             listen  80;
# #             listen [::]:80;
# #             # server_name     www;
# #             return 301 https://$host$request_uri;
# #         }

# #         server {
# #             listen  443     ssl ;
# #             listen [::]:443 ssl ;
# #             server_name     localhost;

# #         	ssl_certificate     /etc/ssl/certs/localhost.crt;
# #             ssl_certificate_key /etc/ssl/certs/localhost.key;

# #             root            /var/www/localhost/htdocs/;
# #             index           index.html;

# #                 # location /wordpress {
# #                 #     return 307 http://192.168.99.201:5050;
# #                 # }
# #                 location / {
# #                     try_files $uri $uri/ =404;
# #                 }            
# #             }
# #         }

#     # â€¢ A container with an nginx server Port 80 will be in http and should be a systematic redirection of type 301 to 443,
#     # which will be in https. The page displayed does not matter as long as it is not an http error.
#     # This container will allow access to/phpmyadmin with a reverse proxy to IP:PMAPORT.

server {
            listen  80      default_server;
            listen [::]:80  default_server;
            return 301 https://$host$request_uri;
    }

    server {
            listen  443     ssl ;
            listen [::]:443 ssl ;
            server_name     www;

            root            /var/www/localhost/htdocs/;
            index           index.html;

        	ssl_certificate     /etc/ssl/certs/localhost.crt;
            ssl_certificate_key /etc/ssl/certs/localhost.key;

            location /wordpress {
                return 307 http://192.168.99.201:5050;
            }
            location / {
                try_files $uri $uri/ =404;
            }            
       }